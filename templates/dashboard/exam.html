{% extends "dashboard/common/base.html" %}

{% block pagecontent %}

{% include "dashboard/courses-list.html" with course=exam.course %}

<div id="main">
	<h1>{{ exam.name }}</h1>
</div>

<!-- data storage -->
<input id="backend-data-delivery" type="hidden" value="">

<!-- multichoice is special so it needs further templates for choices -->
<div class="multichoice-edit-option template" hidden>
	<input name="option" data-x="option" type="text"></input>
	<input name="answer" data-x="answer" type="radio"></input>
</div>

<div class="multichoice-view-option template" hidden>
	<label name="option" data-x="option"></label>
	<input name="option" type="radio">
</div>

<!-- multichoice -->
<div class="multichoice template" hidden>
	<!-- summary -->
	<div class="summary question-section">
		<!-- data-x tags indicate lowest level storage of question data -->
		<div>#<span data-x="number"></span></div>
		<div>Points:<span data-x="points"></span></div>
		<span data-x="prompt-substr"></span>
		<span data-x="type"></span>
		<span data-x="option-count"></span>
	</div>

	<!-- edit -->
	<div class="edit question-section">
		
		<div>#<span data-x="number"></span></div>

		<span data-x="type">Multiple Choice</span>

		<label for="points">Points</label>
		<input name="points" data-x="points" type="text"/>	

		<label for="prompt">Prompt</label>
		<input name="prompt" data-x="prompt" type="text"></input>

		<div class="options">
		<!-- generated from template -->
		</div>

	</div>

	<!-- preview -->
	<div class="preview question-section" data-x="preview">
	<!--  pulls from the backend via ajax-->
	</div>
</div>

<!-- truefalse -->
<div class="truefalse template" hidden>
	<!-- summary -->
	<div class="summary question-section">

		<div>#<span data-x="number"></span></div>
		<div>Points:<span data-x="points"></span></div>

		<span data-x="type"></span>
		<span data-x="prompt-substr"></span>
	</div>

	<!-- edit -->
	<div class="edit question-section">

		<div>#<span data-x="number"></span></div>
		<div>Points:<span data-x="points"></span></div>

		<label for="prompt"></label>
		<input name="prompt" data-x="prompt">

		<label for="option">True/False</label>
		<input data-x="option" name="option" type="checkbox"/>
	</div>

	<!-- preview -->
	<div class="preview question-section">
		<!-- generated from the backend -->
	</div>
</div>

<!-- essay -->
<div class="essay template" hidden>
	<!-- summary -->
	<div class="summary question-section">

		<div>#<span data-x="number"></span></div>
		<div>Points:<span data-x="points"></span></div>

		<span data-x="type"></span>
		<span data-x="prompt-substr"></span>
	</div>

	<!-- edit -->
	<div class="edit question-section">

		<div>#<span data-x="number"></span></div>
		<div>Points:<span data-x="points"></span></div>

		<label for="prompt"></label>
		<input name="prompt" data-x="prompt" type="text">
	</div>

	<!-- preview -->
	<div class="preview question-section">
		<!-- generated from the backend -->
	</div>
</div>

<!-- shortanswer -->
<div class="shortanswer template" hidden>
	<!-- summary -->
	<div class="summary question-section">

		<div>#<span data-x="number"></span></div>
		<div>Points:<span data-x="points"></span></div>

		<span data-x="type"></span>
		<span data-x="prompt-substr"></span>
	</div>

	<!-- edit -->
	<div class="edit question-section">

		<div>#<span data-x="number"></span></div>
		<div>Points:<span data-x="points"></span></div>

		<label for="prompt"></label>
		<input name="prompt" data-x="prompt" type="text">
	</div>

	<!-- preview -->
	<div class="preview question-section">
		<!-- generated from the backend -->
	</div>
</div>

<script type="text/javascript">
	$(document).ready(function() {
		/*
		question interface:
		{
		'question_id' : ''
		'type' : ''
		'prompt' : ''
		'points' : ''
		'number' : ''
		'answers' : []
		'options' : []
		}
		*/
		var templates = {}
		$('.template')
		const Question = function() {

		}
	})
</script>
{% endblock %}

{% block javascript %}

{% load static %}
<script src="{% static 'js/jquery.cookie.js' %}"></script>
<script src="{% static 'js/add-course.js' %}"></script>
<script src="{% static 'js/new-exam.js' %}"></script>
<script src="{% static 'js/exam.js' %}"></script>
{% endblock %}
